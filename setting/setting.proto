syntax = "proto3";
package setting;

import "google/api/annotations.proto";

message Setting{
    string key = 1;
    string type = 2;
    string value = 3;
}

message UserSetting{
    string id = 1;
    repeated Setting settings = 2;
}

message UpdateUserSettingResponse{
    UserSetting data = 1;
}

message  HostSetting {
   string id = 1;
   repeated Setting settings = 2;
}

message UpdateHostSettingResponse{
    HostSetting data = 1;
}

message CreateSettingRequest{
    string id = 1;
    repeated Setting settings = 2 ;
}

message CreateSettingRespone{
    CreateSettingRequest data = 1 ;
}

service SettingService{
    rpc UpdateUserSetting(UserSetting) returns (UpdateUserSettingResponse){
        option (google.api.http) = {
            post : "/api/v1/users/{id}/settings",
            body : "*"
        };
    }

    rpc UpdateHostSetting(HostSetting) returns (UpdateHostSettingResponse){
        option (google.api.http) = {
            post : "/api/v1/hosts/{id}/settings",
            body : "*"
        };
    }

    // this endpoint only use for create new setting by sign up guest as host
    rpc CreateSetting(CreateSettingRequest) returns (CreateSettingRespone);

    // this endpoint only use for create initial setting for users
    rpc InitSetting(CreateSettingRequest) returns (CreateSettingRespone);

    rpc GetSettings(UserSetting) returns (UpdateUserSettingResponse){
        option (google.api.http) = {
            get : "/api/v1/get/settings/{id}",
        };
    }
}